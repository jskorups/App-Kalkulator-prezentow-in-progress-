<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>

    </title>


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/css/bootstrap.min.css" integrity="sha384-AysaV+vQoT3kOAXZkl02PThvDr8HYKPZhNT5h/CXfBThSRXQ6jW5DO2ekP5ViFdi" crossorigin="anonymous">


    <link href="style.css" type="text/css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Mountains+of+Christmas" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>







</head>
<body>


<div class="container-fluid">
    <div class="row">
        <div class="col-md-8 head">
            Kalkulator swaiteczny
        </div>



        <div class="col-md-4 buttons text-left">


                     <div class="row text-left">
                         <span class="link">Wybierz u≈ºytkownika</span>
                     </div>
                    <div class="row text-center">
                        <select class="form-control" id="sel1">

                        <option selected>----</option>
                        <option>Tato</option>
                        <option>Mama</option>
                        <option>Ada</option>
                        <option>Pawel</option>
                        <option>Kuba</option>
                        <option>Magda</option>
                        <option>Klaudia</option>
                        <option>Damian</option>
                        <option>Hubcio</option>
                        </select>
                    </div>

                     <div class="row text-center">
                     <span class="link" >Wklej link lub wpisz nazwe prezentu</span>
                    </div>
            <input type="text " size="30px" id="linkNazwa">
            <button type="button" class="btn btn-primary btn-sm" onclick="elList(); zamiana();"   id="getButt">Linkuj</button></th>

        </div>



        </div>

    </div>


<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">

<div class="table-responsive">
     <table class="table table-inverse">
        <thead>
        <tr>
            <th>#</th>
            <th>Tato</th>
            <th>Mama</th>
            <th>Ada</th>
            <th>Pawel</th>
            <th>Kuba</th>
            <th>Magda</th>
            <th>Klaudia</th>
            <th>Damian</th>
            <th>Hubcio</th>
            <th class="summary"><button type="button" class="btn btn-primary btn-sm" onclick="doMath()"  id="Przycisk">Sumuj</button></th>

            <th>Prezenty</th>
        </tr>
        </thead>


        <tbody>


        <tr>
            <th scope="row">Tato</th>
            <td class="nope">-----</td>
            <td><input type="text" name="Tato" value="0" class="sumaTato"></td>
            <td><input type="text" name="Tato" value="0" class="sumaTato"></td>
            <td><input type="text" name="Tato" value="0" class="sumaTato"></td>
            <td><input type="text" name="Tato" value="0" class="sumaTato"></td>
            <td><input type="text" name="Tato" value="0" class="sumaTato"></td>
            <td><input type="text" name="Tato" value="0" class="sumaTato"></td>
            <td><input type="text" name="Tato" value="0" class="sumaTato"></td>
            <td><input type="text" name="Tato" value="0" class="sumaTato"></td>

            <td><input type="text" name="T" id="zsumowaneT"></td>
            <td id="linkTato"></td>


        </tr>
        <tr>
            <th scope="row">Mama</th>
            <td><input type="text" class="sumaMamo"></td>
            <td class="nope">-----</td>
            <td><input type="text" value="0" class="sumaMamo"></td>
            <td><input type="text" value="0" class="sumaMamo"></td>
            <td><input type="text" value="0" class="sumaMamo"></td>
            <td><input type="text" value="0" class="sumaMamo"></td>
            <td><input type="text" value="0" class="sumaMamo"></td>
            <td><input type="text" value="0" class="sumaMamo"></td>
            <td><input type="text" value="0" class="sumaMamo"></td>

            <td><input type="text" id="zsumowaneM"></td>
            <td id="linkMama"></td>


        </tr>
        <tr>
            <th scope="row">Ada</th>

            <td><input type="text"></td>
            <td><input type="text"></td>
            <td class="nope">-----</td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>

            <td><input type="text" id="zsumowaneA"></td>
            <td id="linkAda"></td>

        </tr>
        <tr>
            <th scope="row">Pawel</th>

            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td class="nope">-----</td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text" id="zsumowaneP"></td>
            <td id="linkPawel"></td>

        </tr>
        <tr>
            <th scope="row">Kuba</th>

            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td class="nope">-----</td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text" id="zsumowaneK"></td>
            <td id="linkKuba"></td>

        </tr>
        <tr>
            <th scope="row">Magda</th>

            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td class="nope">-----</td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text" id="zsumowaneM"></td>
            <td id="linkMagda"></td>


        </tr>
        <tr>
            <th scope="row">Klaudia</th>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td class="nope">-----</td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text" id="zsumowaneK"></td>
            <td id="linkKlaudia"></td>

        </tr>
        <tr>
            <th scope="row">Damian</th>

            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td class="nope">-----</td>
            <td><input type="text"></td>
            <td><input type="text" id="zsumowaneD"></td>
            <td id="linkDamian"></td>

        </tr>
        <tr>
            <th scope="row">Hubcio</th>

            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td>
            <td class="nope">-----</td>
            <td><input type="text" id="zsumowaneH"></td>
            <td id="linkHubcio"></td>

        </tr>
        </tbody>




    </table>

</div>
</div>
</div>
</div>


<script>

    function doMath() {

        //pobranie sumy ze wszytskich pol z className
        var my_input1 = document.getElementsByClassName("sumaTato");
        console.log(my_input1);
        var count = 0;
        for (var i = 0; i < my_input1.length; i++) {

            count = count + parseInt(my_input1[i].value);
        }
        //wyrzucenie sumy do inputa
        console.log(document.getElementById("zsumowaneT").value = count);

    }

    var idik;

    function elList () {

        //pobranie wybranego wiersza z dropdown listy

        var e = document.getElementById("sel1");
        var f = (e.options[e.selectedIndex].value);
        console.log(f);

        // dopasowanie elementu z dropdownlisty do konkretnego id
        if (f == 'Mama') {
            idik = 'linkMama';
            console.log(idik);
        }
        else if (f == 'Tato') {
            idik = 'linkTato';
            console.log(idik);
        }
        else if (f == 'Ada') {
            idik = 'linkAda';
            console.log(idik);
        }
        else if (f == 'Pawel') {
            idik = 'linkPawel';
            console.log(idik);
        }
        else if (f == 'Kuba') {
            idik = 'linkKuba';
            console.log(idik);
        }
        else if (f == 'Magda') {
            idik = 'linkMagda';
            console.log(idik);
        }
        else if (f == 'Damian') {
            idik = 'linkDamian';
            console.log(idik);
        }
        else if (f == 'Klaudia') {
            idik = 'linkKlaudia';
            console.log(idik);
        }
        else if (f == 'Hubcio') {
            idik = 'linkHubcio';
            console.log(idik);
        }
        else {
            alert("Wybierz uzytkownika")
        }
    };


        //pobranie wartosci  z inputa


        // Zamiana jesli wklejony zostal link lub brak zmiany jesli podany jest zwykly tekst

        function zamiana () {

            var Content = document.getElementById('linkNazwa').value;
            console.log(Content);

            substring = "www";
            substring2 = "http";

            var www = Content.indexOf(substring) !==-1;
            var http = (Content.indexOf(substring2) !==-1);

            if (www == 1 || http == 1){
                console.log('JESTES ZWYCEIZCA');
                var newContent = Content.replace(Content, '<a href="' + Content + '">' + "Link" + '</a>');
                console.log(newContent);

            }
            else {
                var newContent = Content;
                console.log('Nie jestes zwyciezca');
            }





        document.getElementById(idik).innerHTML = newContent;
    }











</script>

</body>



</html>